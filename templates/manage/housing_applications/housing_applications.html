{% extends "base.html" %}

{% block css %}
  {{super()}}
  <link type="text/css" rel="stylesheet" href="/stylesheets/manage.css" />
  <style>
    .filterCatagoryShell { overflow:auto; }
    .filterCatagory { width:33%; float:left; }
    .filterCatagoryLabel { font-weight:bold; }
    .filterCatagoryInner { padding-left:8px; }
  </style>
{% endblock %}

{% macro TableLine(title, data) %}
      <tr><td><strong>{{title}}</strong></td><td>{{data}}</td></tr>
{% endmacro %}

{% block content %}
<form action="" method="">
  <div class="filterCatagoryShell">
    <div class="filterCatagory" >
      <div class="filterCatagoryLabel">House:</div>
      <div class="filterCatagoryInner">
        {{filterForm.DisplayCchHouse}}{{filterForm.DisplayCchHouse.label}}<br />
        {{filterForm.DisplayWcchHouse}}{{filterForm.DisplayWcchHouse.label}}
      </div>
    </div>
    <div class="filterCatagory" >
      <div class="filterCatagoryLabel">Sorting:</div>
      <div class="filterCatagoryInner">
        {{filterForm.SortBy.label}}{{filterForm.SortBy}}<br />
        {{filterForm.SortDirection.label}}<br />{% for f in filterForm.SortDirection %}{{f}}{{f.label}}{% endfor %}
      </div>
    </div>
    <div class="filterCatagory" >
      <div class="filterCatagoryLabel">Options:</div>
      <div class="filterCatagoryInner">
        {{filterForm.ExcludePastSemesters(disabled=disabled)}}{{filterForm.ExcludePastSemesters.label}}
      </div>
    </div>
  </div>
  <div style="overflow:auto;">
    <input type="submit" value="Filter" style="float:right; height:30px; width:80px;"/>
  </div>
</form>
<hr />
{# TODO: Make pages work #}
{# First <a href="?page={{ page - 1 }}">&lt;&lt;</a> {{page}} <a href="?page={{page + 1}}">&gt;&gt;</a> Last #}
{# Men's House  Women's House #}

{% for app in applications %}
  <fieldset>
    <legend><a href="housing_applications/view_housing_application?key={{app.key()}}">View</a></legend>
    <table>
      {{ TableLine("Time Submitted:", app.PrintFormatedDateTime) }}
      {{ TableLine("House:", app.House) }}
      {{ TableLine("Full Name:", app.FullName) }}
      {{ TableLine("Current Grade Level:", app.CurrentGradeLevel) }}
      {{ TableLine("Proposed Degree:", app.ProposedDegree) }}
      {{ TableLine("Starting Semester:", app.SemesterToBegin) }}
    </table>
  </fieldset>
{% endfor %}
{% endblock %}
